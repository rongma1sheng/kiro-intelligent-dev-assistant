{
  "id": "66e43649-9462-4fd0-a834-dfe465ea7a0a",
  "type": "code_pattern",
  "content": {
    "code": "# 多系统状态验证模式\ndef verify_multi_system_integration():\n    \"\"\"多系统集成验证的标准流程\"\"\"\n    verification_results = {\n        'timestamp': datetime.now().isoformat(),\n        'systems': {},\n        'integration_tests': {},\n        'overall_status': 'unknown'\n    }\n    \n    # 1. 验证各个系统状态\n    systems_to_check = [\n        ('memory_system', memory_system.get_stats),\n        ('skills_system', skills_system.get_system_stats),\n        ('team_profiles', lambda: len(skills_system.role_profiles))\n    ]\n    \n    for system_name, check_func in systems_to_check:\n        try:\n            result = check_func()\n            verification_results['systems'][system_name] = {\n                'status': 'healthy',\n                'data': result\n            }\n        except Exception as e:\n            verification_results['systems'][system_name] = {\n                'status': 'error',\n                'error': str(e)\n            }\n    \n    # 2. 跨系统集成测试\n    integration_tests = [\n        ('memory_search', test_memory_search),\n        ('skill_assignment', test_skill_assignment),\n        ('data_consistency', test_data_consistency)\n    ]\n    \n    for test_name, test_func in integration_tests:\n        try:\n            result = test_func()\n            verification_results['integration_tests'][test_name] = {\n                'status': 'passed' if result else 'failed',\n                'result': result\n            }\n        except Exception as e:\n            verification_results['integration_tests'][test_name] = {\n                'status': 'error',\n                'error': str(e)\n            }\n    \n    # 3. 确定整体状态\n    all_systems_healthy = all(\n        s['status'] == 'healthy' \n        for s in verification_results['systems'].values()\n    )\n    all_tests_passed = all(\n        t['status'] == 'passed' \n        for t in verification_results['integration_tests'].values()\n    )\n    \n    verification_results['overall_status'] = (\n        'healthy' if all_systems_healthy and all_tests_passed else 'degraded'\n    )\n    \n    return verification_results",
    "description": "多系统集成验证的完整实现，包含系统状态检查、集成测试和结果汇总",
    "file_type": "python"
  },
  "hash_key": "61eed73c24fcf9af",
  "metadata": {
    "file_type": "python"
  },
  "created_at": "2026-02-03T11:52:31.426664",
  "last_used": "2026-02-03T11:52:31.426664",
  "usage_count": 0,
  "success_rate": 0.0,
  "priority": 2,
  "tags": [
    "integration_testing",
    "system_verification",
    "health_check",
    "automation",
    "python",
    "code"
  ],
  "source": "user",
  "confidence": 1.0
}
# MIA系统环境变量配置示例
# 复制此文件为 .env 并填入真实值
# 注意: .env 文件不应提交到Git

# ============================================
# LLM API密钥 (加密存储)
# ============================================
# 使用 SecureConfig 加密后的密钥
# 生成方法: python scripts/encrypt_api_key.py

# DeepSeek API
ENCRYPTED_DEEPSEEK_API_KEY=your_encrypted_key_here

# Qwen API
ENCRYPTED_QWEN_API_KEY=your_encrypted_key_here

# ============================================
# JWT配置
# ============================================
# JWT密钥 (加密存储)
ENCRYPTED_JWT_SECRET=your_encrypted_jwt_secret_here

# JWT过期时间 (小时)
JWT_EXPIRE_HOURS=24

# ============================================
# Redis配置
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# Redis连接池大小
REDIS_POOL_SIZE=50

# ============================================
# 数据源配置
# ============================================
# 国金证券
GUOJIN_API_KEY=your_guojin_api_key_here
GUOJIN_API_SECRET=your_guojin_api_secret_here

# AKShare (无需密钥)

# ============================================
# 系统配置
# ============================================
# 环境 (development, production)
ENVIRONMENT=development

# 日志级别 (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# 日志目录
LOG_DIR=D:/MIA_Data/logs

# 数据目录
DATA_DIR=D:/MIA_Data

# ============================================
# 服务端口
# ============================================
# Streamlit Dashboard
STREAMLIT_PORT=8501

# WebSocket Server
WEBSOCKET_PORT=8502

# FastAPI
FASTAPI_PORT=8000

# ============================================
# GPU配置
# ============================================
# GPU显存预留 (GB)
GPU_MEMORY_RESERVE=32

# ROCm设备ID
ROCM_DEVICE_ID=0

# ============================================
# 本地LLM配置 (llama-cpp-python)
# ============================================
# 模型路径 (推荐 72B 模型，128GB 内存最佳选择)
LOCAL_MODEL_PATH=D:/MIA_Data/models/qwen2.5-72b-instruct-q5_k_m.gguf

# GPU层数 (越多越快，但占用更多显存)
# 对于128GB统一内存，建议设置为 -1 (全部加载)
N_GPU_LAYERS=-1

# 上下文长度 (72B模型建议8192或更高)
N_CTX=8192

# 批处理大小
N_BATCH=512

# 线程数 (CPU推理时使用)
N_THREADS=8

# 使用 Vulkan 后端 (AMD GPU)
USE_VULKAN=true

# ============================================
# 交易配置
# ============================================
# 券商账户 (加密存储)
ENCRYPTED_BROKER_ACCOUNT=your_encrypted_account_here
ENCRYPTED_BROKER_PASSWORD=your_encrypted_password_here

# 交易模式 (simulation, live)
TRADING_MODE=simulation

# ============================================
# 进化配置
# ============================================
# 每日预算 (元)
DAILY_BUDGET_CNY=50.0

# 种群大小
POPULATION_SIZE=50

# 进化代数
EVOLUTION_GENERATIONS=10

# ============================================
# 监控配置
# ============================================
# 启用监控
ENABLE_MONITORING=true

# 监控间隔 (秒)
MONITORING_INTERVAL=60

# ============================================
# Tailscale VPN
# ============================================
# Tailscale IP (AMD服务器)
TAILSCALE_SERVER_IP=100.x.x.x

# ============================================
# 开发配置
# ============================================
# 调试模式
DEBUG=false

# 热重载
HOT_RELOAD=false

# 性能分析
ENABLE_PROFILING=false

# ============================================
# 测试配置
# ============================================
# 测试模式
TEST_MODE=false

# Mock LLM API
MOCK_LLM_API=false

# ============================================
# 安全配置
# ============================================
# 主密钥文件路径
MASTER_KEY_PATH=D:/MIA_Data/.master.key

# 允许的IP白名单 (逗号分隔)
ALLOWED_IPS=127.0.0.1,100.0.0.0/8

# ============================================
# 性能配置
# ============================================
# 最大并发数
MAX_CONCURRENCY=10

# 请求超时 (秒)
REQUEST_TIMEOUT=30

# 重试次数
MAX_RETRIES=3

# ============================================
# 数据库配置 (可选)
# ============================================
# MongoDB
MONGODB_URI=mongodb://localhost:27017
MONGODB_DATABASE=mia

# ============================================
# 通知配置 (可选)
# ============================================
# 邮件通知
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your_email@example.com
SMTP_PASSWORD=your_password

# 钉钉通知
DINGTALK_WEBHOOK=https://oapi.dingtalk.com/robot/send?access_token=xxx

# ============================================
# 备份配置
# ============================================
# 备份目录
BACKUP_DIR=D:/MIA_Data/backups

# 备份保留天数
BACKUP_RETENTION_DAYS=30

# ============================================
# 注意事项
# ============================================
# 1. 所有敏感信息必须加密存储
# 2. 使用 SecureConfig 加密API密钥
# 3. 不要将 .env 文件提交到Git
# 4. 定期更新密钥
# 5. 生产环境使用强密码

{
  "id": "18a31c95-bbc9-4b7a-a39e-e223d2fcca68",
  "type": "best_practice",
  "content": {
    "title": "ç³»ç»Ÿæ€§èƒ½åŸºå‡†æµ‹è¯•çš„å®æ–½æ–¹æ³•",
    "description": "å®æ–½ç³»ç»Ÿæ€§èƒ½åŸºå‡†æµ‹è¯•çš„æœ€ä½³å®è·µï¼š1)å¤šæŒ‡æ ‡æµ‹è¯•-å“åº”æ—¶é—´ã€å†…å­˜ä½¿ç”¨ã€å­˜å‚¨æ•ˆç‡ã€å¹¶å‘èƒ½åŠ› 2)å¤šæ ·æœ¬æµ‹è¯•-å¤šæ¬¡æµ‹è¯•å–å¹³å‡å€¼ï¼Œå‡å°‘å¶ç„¶è¯¯å·® 3)çœŸå®åœºæ™¯æ¨¡æ‹Ÿ-ä½¿ç”¨å®é™…ä¸šåŠ¡åœºæ™¯è¿›è¡Œæµ‹è¯• 4)åŸºå‡†å¯¹æ¯”-ä¸å†å²æ•°æ®å’Œè¡Œä¸šæ ‡å‡†å¯¹æ¯” 5)ç“¶é¢ˆè¯†åˆ«-é€šè¿‡æµ‹è¯•è¯†åˆ«æ€§èƒ½ç“¶é¢ˆ 6)æŒç»­ç›‘æ§-å»ºç«‹æ€§èƒ½ç›‘æ§æœºåˆ¶ 7)ä¼˜åŒ–éªŒè¯-ä¼˜åŒ–åé‡æ–°æµ‹è¯•éªŒè¯æ•ˆæœã€‚è¿™ç§æ–¹æ³•ç¡®ä¿æ€§èƒ½æµ‹è¯•çš„å‡†ç¡®æ€§å’Œå®ç”¨æ€§",
    "context": "ç³»ç»Ÿæ€§èƒ½æµ‹è¯•",
    "tags": [
      "æ€§èƒ½æµ‹è¯•",
      "åŸºå‡†æµ‹è¯•",
      "ç³»ç»Ÿä¼˜åŒ–",
      "è´¨é‡ä¿è¯"
    ],
    "code_example": "\n# ç³»ç»Ÿæ€§èƒ½åŸºå‡†æµ‹è¯•æ¡†æ¶\nimport time\nimport psutil\nimport threading\nfrom statistics import mean, median\n\nclass PerformanceBenchmark:\n    def __init__(self, system_under_test):\n        self.system = system_under_test\n        self.benchmarks = {}\n        \n    def measure_response_time(self, operation, samples=10):\n        \"\"\"æµ‹é‡å“åº”æ—¶é—´\"\"\"\n        response_times = []\n        \n        for _ in range(samples):\n            start_time = time.time()\n            try:\n                operation()\n                end_time = time.time()\n                response_times.append((end_time - start_time) * 1000)  # è½¬æ¢ä¸ºæ¯«ç§’\n            except Exception as e:\n                print(f\"æ“ä½œæ‰§è¡Œå¤±è´¥: {e}\")\n        \n        if response_times:\n            return {\n                'average': mean(response_times),\n                'median': median(response_times),\n                'min': min(response_times),\n                'max': max(response_times),\n                'samples': len(response_times)\n            }\n        return None\n    \n    def measure_memory_usage(self):\n        \"\"\"æµ‹é‡å†…å­˜ä½¿ç”¨\"\"\"\n        process = psutil.Process()\n        memory_info = process.memory_info()\n        \n        return {\n            'rss_mb': memory_info.rss / 1024 / 1024,  # ç‰©ç†å†…å­˜\n            'vms_mb': memory_info.vms / 1024 / 1024,  # è™šæ‹Ÿå†…å­˜\n            'percent': process.memory_percent()\n        }\n    \n    def test_concurrency(self, operation, concurrent_requests=5):\n        \"\"\"æµ‹è¯•å¹¶å‘å¤„ç†èƒ½åŠ›\"\"\"\n        results = []\n        threads = []\n        \n        def concurrent_operation():\n            try:\n                start_time = time.time()\n                operation()\n                end_time = time.time()\n                results.append({\n                    'success': True,\n                    'duration': (end_time - start_time) * 1000\n                })\n            except Exception as e:\n                results.append({\n                    'success': False,\n                    'error': str(e)\n                })\n        \n        # å¯åŠ¨å¹¶å‘çº¿ç¨‹\n        for _ in range(concurrent_requests):\n            thread = threading.Thread(target=concurrent_operation)\n            threads.append(thread)\n            thread.start()\n        \n        # ç­‰å¾…æ‰€æœ‰çº¿ç¨‹å®Œæˆ\n        for thread in threads:\n            thread.join()\n        \n        success_count = sum(1 for r in results if r['success'])\n        success_rate = success_count / len(results) if results else 0\n        \n        return {\n            'total_requests': len(results),\n            'successful_requests': success_count,\n            'success_rate': success_rate,\n            'supported': success_rate >= 0.8\n        }\n    \n    def run_full_benchmark(self):\n        \"\"\"è¿è¡Œå®Œæ•´åŸºå‡†æµ‹è¯•\"\"\"\n        print(\"ğŸš€ å¼€å§‹æ€§èƒ½åŸºå‡†æµ‹è¯•...\")\n        \n        # å“åº”æ—¶é—´æµ‹è¯•\n        response_time = self.measure_response_time(\n            lambda: self.system.get_system_stats()\n        )\n        \n        # å†…å­˜ä½¿ç”¨æµ‹è¯•\n        memory_usage = self.measure_memory_usage()\n        \n        # å¹¶å‘æµ‹è¯•\n        concurrency = self.test_concurrency(\n            lambda: self.system.get_system_stats()\n        )\n        \n        benchmark_results = {\n            'response_time': response_time,\n            'memory_usage': memory_usage,\n            'concurrency': concurrency,\n            'timestamp': time.time()\n        }\n        \n        # è®¡ç®—æ€§èƒ½è¯„åˆ†\n        performance_score = self.calculate_performance_score(benchmark_results)\n        benchmark_results['performance_score'] = performance_score\n        \n        return benchmark_results\n"
  },
  "hash_key": "e94e153e4402e65c",
  "metadata": {},
  "created_at": "2026-02-03T12:29:15.687314",
  "last_used": "2026-02-03T12:29:15.687314",
  "usage_count": 0,
  "success_rate": 0.0,
  "priority": 2,
  "tags": [
    "æ€§èƒ½æµ‹è¯•",
    "åŸºå‡†æµ‹è¯•",
    "ç³»ç»Ÿä¼˜åŒ–",
    "è´¨é‡ä¿è¯"
  ],
  "source": "comprehensive_analysis",
  "confidence": 1.0
}
# MIA系统核心文档总览

**版本**: v1.0  
**日期**: 2026-01-16  
**目的**: 提供完整的开发文档体系，确保LLM编码过程可控

---

## 📚 文档体系

本目录包含MIA系统的所有核心开发文档，按照硅谷软件开发流程组织，确保开发过程严格遵循白皮书要求。

### 核心文档列表

| 文档 | 用途 | 优先级 | 阅读时机 |
|------|------|--------|---------|
| [mia.md](./mia.md) | 系统架构白皮书 | ⭐⭐⭐⭐⭐ | 开发前必读 |
| [DEVELOPMENT_GUIDE.md](./DEVELOPMENT_GUIDE.md) | 开发指南 | ⭐⭐⭐⭐⭐ | 开发前必读 |
| [ARCHITECTURE_DECISIONS.md](./ARCHITECTURE_DECISIONS.md) | 架构决策记录 | ⭐⭐⭐⭐ | 开发前阅读 |
| [IMPLEMENTATION_CHECKLIST.md](./IMPLEMENTATION_CHECKLIST.md) | 实现检查清单 | ⭐⭐⭐⭐⭐ | 开发中持续更新 |
| [ANTI_HALLUCINATION_GUIDE.md](./ANTI_HALLUCINATION_GUIDE.md) | 防幻觉指南 | ⭐⭐⭐⭐⭐ | 开发中随时查阅 |
| [TESTING_STRATEGY.md](./TESTING_STRATEGY.md) | 测试策略 | ⭐⭐⭐⭐ | 编写测试时阅读 |
| [API_REFERENCE_TEMPLATE.md](./API_REFERENCE_TEMPLATE.md) | API文档模板 | ⭐⭐⭐ | 编写API文档时参考 |

---

## 🎯 快速开始

### 第一次开发前

1. **阅读白皮书** (mia.md)
   - 理解系统整体架构
   - 熟悉三位一体设计
   - 了解五态生物钟
   - 掌握核心哲学

2. **阅读开发指南** (DEVELOPMENT_GUIDE.md)
   - 学习开发原则
   - 了解架构约束
   - 掌握编码规范
   - 熟悉测试要求

3. **查阅架构决策** (ARCHITECTURE_DECISIONS.md)
   - 理解关键设计决策
   - 了解决策背后的理由
   - 掌握约束条件

4. **查看实现清单** (IMPLEMENTATION_CHECKLIST.md)
   - 了解总体进度
   - 确认待实现功能
   - 规划开发任务

### 开发过程中

1. **防止幻觉** (ANTI_HALLUCINATION_GUIDE.md)
   - 每次编码前查阅白皮书
   - 使用幻觉检测清单
   - 运行幻觉检查脚本

2. **编写测试** (TESTING_STRATEGY.md)
   - 遵循测试金字塔
   - 达到覆盖率要求
   - 使用测试最佳实践

3. **更新清单** (IMPLEMENTATION_CHECKLIST.md)
   - 完成功能后标记 [x]
   - 更新总体进度
   - 记录遇到的问题

4. **编写文档** (API_REFERENCE_TEMPLATE.md)
   - 为所有公共API编写文档
   - 遵循文档格式规范
   - 包含示例和性能指标

---

## 📖 文档详解

### 1. mia.md - 系统架构白皮书

**内容**:
- 核心哲学阐述（13大原则）
- 第一章: 柯罗诺斯生物钟与资源调度
- 第二章: AI三脑与混合智能
- 第三章: 基础设施与数据治理
- 第四章: 斯巴达进化与生态
- 第五章: LLM策略深度分析系统
- 第六章: 执行与风控
- 第七章: 安全、审计与交互

**何时阅读**:
- 开发任何功能前
- 遇到架构疑问时
- 需要确认设计时

**关键章节**:
- 0. 核心哲学 - 理解系统设计理念
- 各章节的测试要求 (X.T) - 了解质量标准

### 2. DEVELOPMENT_GUIDE.md - 开发指南

**内容**:
- 开发原则（白皮书至上、工业级标准）
- 架构约束（三位一体、五态生物钟、双盘隔离）
- 编码规范（代码质量、命名规范、错误处理）
- 测试要求（覆盖率目标、测试结构）
- 质量门禁（提交前检查、CI/CD流程）
- 开发流程（功能开发、分支策略、Commit规范）
- 常见陷阱（架构偏离、状态混乱、硬编码）

**何时阅读**:
- 开始编码前
- 不确定编码规范时
- 代码审查前

**关键部分**:
- 禁止事项 - 避免犯错
- 常见陷阱 - 学习最佳实践

### 3. ARCHITECTURE_DECISIONS.md - 架构决策记录

**内容**:
- ADR-001: 三位一体架构
- ADR-002: 五态生物钟调度
- ADR-003: SPSC无锁环形队列
- ADR-004: 双盘物理隔离
- ADR-005: 热备高可用架构
- ADR-006: 斯巴达竞技场双轨测试
- ADR-007: 遗传算法因子挖掘
- ADR-008: 独立审计进程
- ADR-009: 加密存储敏感信息
- ADR-010: 零信任网络架构
- ADR-011: 数据探针自适应机制
- ADR-012: 29维度策略深度分析
- ADR-013: 主力资金深度分析
- ADR-014: 个股结论性建议

**何时阅读**:
- 实现关键功能前
- 遇到设计疑问时
- 需要理解决策背景时

**关键部分**:
- 决策理由 - 理解为什么这样设计
- 约束条件 - 了解必须遵守的限制
- 后果 - 了解设计的影响

### 4. IMPLEMENTATION_CHECKLIST.md - 实现检查清单

**内容**:
- 总体进度追踪
- 分章节功能清单
- 关键里程碑
- 验收标准

**何时使用**:
- 规划开发任务时
- 完成功能后更新
- 检查进度时

**如何使用**:
1. 找到对应章节
2. 查看待实现功能
3. 完成后标记 [x]
4. 更新总体进度

### 5. ANTI_HALLUCINATION_GUIDE.md - 防幻觉指南

**内容**:
- 什么是LLM幻觉
- 防幻觉原则（白皮书至上、显式优于隐式）
- 幻觉检测清单
- 白皮书索引（快速查找表）
- 常见幻觉案例
- 防幻觉工具

**何时阅读**:
- 每次编码前
- 遇到不确定的API时
- 代码审查时

**关键部分**:
- 幻觉检测清单 - 编码前后检查
- 常见幻觉案例 - 学习避免错误
- 白皮书索引 - 快速查找功能定义

### 6. TESTING_STRATEGY.md - 测试策略

**内容**:
- 测试金字塔（单元75%、集成20%、E2E5%）
- 测试类型（单元、集成、E2E、性能、安全）
- 测试覆盖率要求
- 测试框架与工具
- 测试最佳实践
- CI/CD集成

**何时阅读**:
- 编写测试前
- 不确定测试方法时
- 配置CI/CD时

**关键部分**:
- 测试覆盖率要求 - 了解质量标准
- 测试最佳实践 - 学习正确的测试方法
- 测试检查清单 - 提交前检查

### 7. API_REFERENCE_TEMPLATE.md - API文档模板

**内容**:
- 文档规范（函数、类）
- 各章节核心API示例
- 文档生成方法

**何时使用**:
- 编写公共API时
- 需要文档格式参考时
- 生成API文档时

**关键部分**:
- 函数文档格式 - 标准模板
- 类文档格式 - 标准模板

---

## 🔄 开发工作流

### 标准开发流程

```
1. 选择功能
   ↓
2. 阅读白皮书相关章节 (mia.md)
   ↓
3. 查阅架构决策 (ARCHITECTURE_DECISIONS.md)
   ↓
4. 检查实现清单 (IMPLEMENTATION_CHECKLIST.md)
   ↓
5. 编写测试用例 (参考 TESTING_STRATEGY.md)
   ↓
6. 实现功能代码 (遵循 DEVELOPMENT_GUIDE.md)
   ↓
7. 运行幻觉检查 (ANTI_HALLUCINATION_GUIDE.md)
   ↓
8. 运行测试并检查覆盖率
   ↓
9. 编写API文档 (参考 API_REFERENCE_TEMPLATE.md)
   ↓
10. 更新实现清单 (IMPLEMENTATION_CHECKLIST.md)
   ↓
11. 代码审查
   ↓
12. 提交代码
```

### 快速检查清单

**编码前**:
- [ ] 阅读白皮书相关章节
- [ ] 查阅架构决策
- [ ] 确认功能定义明确

**编码中**:
- [ ] 遵循编码规范
- [ ] 使用白皮书定义的API
- [ ] 编写测试用例

**编码后**:
- [ ] 运行幻觉检查脚本
- [ ] 运行所有测试
- [ ] 检查测试覆盖率
- [ ] 编写API文档
- [ ] 更新实现清单

**提交前**:
- [ ] 代码审查通过
- [ ] 所有测试通过
- [ ] 覆盖率达标
- [ ] 文档完整

---

## 🛠️ 工具与脚本

### 幻觉检查

```bash
# 检查导入的模块是否在白皮书中定义
python scripts/check_hallucination.py src/module.py

# 验证白皮书一致性
python scripts/validate_against_whitepaper.py
```

### 测试运行

```bash
# 运行所有测试
bash scripts/run_tests.sh

# 运行单元测试
pytest tests/unit --cov=src --cov-report=html

# 运行集成测试
pytest tests/integration

# 运行E2E测试
pytest tests/e2e
```

### 代码质量检查

```bash
# 运行所有检查
python scripts/pre_commit_check.py

# 代码格式化
black src/

# 类型检查
mypy src/

# 代码质量
pylint src/

# 安全扫描
bandit -r src/
```

---

## 📊 进度追踪

### 当前进度

查看 [IMPLEMENTATION_CHECKLIST.md](./IMPLEMENTATION_CHECKLIST.md) 获取最新进度。

### 里程碑

- [ ] Phase 1: 基础设施 (Week 1-2)
- [ ] Phase 2: AI三脑 (Week 3-4)
- [ ] Phase 3: 进化系统 (Week 5-6)
- [ ] Phase 4: 策略分析 (Week 7-8)
- [ ] Phase 5: 执行与风控 (Week 9-10)
- [ ] Phase 6: 集成与优化 (Week 11-12)

---

## 🤝 贡献指南

### 文档更新

如果发现文档问题或需要补充：

1. 创建Issue描述问题
2. 提交PR修改文档
3. 更新变更历史

### 代码贡献

1. 遵循开发指南
2. 编写完整测试
3. 更新实现清单
4. 编写API文档
5. 通过代码审查

---

## 📞 获取帮助

### 常见问题

**Q: 不确定某个功能是否在白皮书中定义？**  
A: 使用 `grep` 在 mia.md 中搜索关键词，或查阅 ANTI_HALLUCINATION_GUIDE.md 的白皮书索引。

**Q: 不知道如何编写测试？**  
A: 查阅 TESTING_STRATEGY.md 的测试示例和最佳实践。

**Q: 代码审查不通过？**  
A: 检查 DEVELOPMENT_GUIDE.md 的常见陷阱部分，运行幻觉检查脚本。

**Q: 不确定架构设计？**  
A: 查阅 ARCHITECTURE_DECISIONS.md 了解设计决策和理由。

### 联系方式

- 技术问题: 查阅文档或创建Issue
- 架构讨论: 参考架构决策记录
- 代码审查: 遵循开发指南

---

## 📝 变更历史

| 日期 | 版本 | 变更内容 |
|------|------|---------|
| 2026-01-16 | v1.0 | 初始版本，创建完整文档体系 |

---

**记住**: 文档是开发的指南针，始终以白皮书为准！
